<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="xmu.oomall.mapper.CouponMapper">

    <select id="findCommentById" parameterType="Integer" resultType="coupon">
            select id,
                userId,
                content,
                statusCode,
                type,
                star,
                productId,
                topicId,
                gmtCreate,
                gmtModified,
                beDeleted
            from oomall_comment where id = #{id}
    </select>

    <!--    TODO: check in what table comments are stored -->
    <!--    TODO: fix parameterType -->
    <insert id="addComment" parameterType="Comment" useGeneratedKeys="true" keyProperty="id">
        insert into oomall_comment(id, userId,content,statusCode,type,star,productId,topicId,gmtCreate,gmtModified,beDeleted )
        values (#{},#{},#{},#{},#{},#{},#{},#{},#{},#{},#{})
    </insert>

    <insert id="deleteComment" parameterType="Comment" useGeneratedKeys="true" keyProperty="id">
        insert into oomall_comment(id, userId,content,statusCode,type,star,productId,topicId,gmtCreate,gmtModified,beDeleted )
        values (#{},#{},#{},#{},#{},#{},#{},#{},#{},#{},#{})
    </insert>

    <insert id="updateComment" parameterType="Comment" useGeneratedKeys="true" keyProperty="id">
        insert into oomall_comment(id, userId,content,statusCode,type,star,productId,topicId,gmtCreate,gmtModified,beDeleted )
        values (#{},#{},#{},#{},#{},#{},#{},#{},#{},#{},#{})
    </insert>

    <insert id="showCommentsByProduct" parameterType="java.util.List" useGeneratedKeys="true" keyProperty="id">
            select id,
                userId,
                content,
                statusCode,
                type,
                star,
                productId,
                topicId,
                gmtCreate,
                gmtModified,
                beDeleted
            from oomall_comment where id = #{id}
    </insert>

    <insert id="showCommentsByUser" parameterType="java.util.List" useGeneratedKeys="true" keyProperty="id">
            select id,
                userId,
                content,
                statusCode,
                type,
                star,
                productId,
                topicId,
                gmtCreate,
                gmtModified,
                beDeleted
            from oomall_comment where id = #{id}
    </insert>


</mapper>